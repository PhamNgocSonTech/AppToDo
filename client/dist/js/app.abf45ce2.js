(function(){"use strict";var e={3310:function(e,t,o){var s=o(9242),n=o(3396);function a(e,t,o,s,a,l){const r=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(r)}var l={name:"App",components:{}},r=o(89);const c=(0,r.Z)(l,[["render",a]]);var i=c,u=o(65);const d={state:{user:null},mutations:{setUser(e,t){e.user=t},clearUser(e){e.user=null}},actions:{},getters:{user:e=>e.user}},m=new u.ZP.Store(d);var p=m;const g={state:{isLoading:!1},getters:{isLoading:e=>e.isLoading},mutations:{setLoading(e,t){e.isLoading=t}},actions:{showLoading({commit:e}){e("setLoading",!0)},hideLoading({commit:e}){e("setLoading",!1)}}},f=new u.MT(g);var b=f,h=o(2483);function v(e,t,o,s,a,l){const r=(0,n.up)("ToDoList");return(0,n.wg)(),(0,n.j4)(r)}o(7658);var y=o(7139),_=o(4870),w=o(4161);const k="https://uptodo.onrender.com/api/v1";async function D(e){return w.Z.post(`${k}/users/register`,e).then((({data:e})=>e)).catch((e=>{throw e}))}async function x(e){return w.Z.post(`${k}/users/login`,e).then((({data:e})=>e)).catch((e=>{throw e}))}async function T(e,t){return w.Z.get(`${k}/todos`,{headers:{"x-access-token":e},params:{userId:t}}).then((({data:e})=>e)).catch((e=>{throw e}))}async function S(e,t,o){return w.Z.post(`${k}/todos/create`,e,{headers:{"x-access-token":t},params:{userId:o}}).then((({data:e})=>e)).catch((e=>{throw e}))}async function L(e,t){return e.completed?e.completed_time=Date.now():e.completed_time=null,w.Z.put(`${k}/todos/update/${e._id}`,e,{headers:{"x-access-token":t}}).then((({data:e})=>e)).catch((e=>{throw e}))}async function U(e,t,o){return e.task=o,w.Z.put(`${k}/todos/update/${e._id}`,e,{headers:{"x-access-token":t}}).then((({data:e})=>e)).catch((e=>{throw e}))}async function C(e,t){return w.Z.delete(`${k}/todos/delete/${e}`,{headers:{"x-access-token":t}}).then((({data:e})=>e)).catch((e=>{throw e}))}async function E(e,t){return w.Z.delete(`${k}/todos/deleteAll`,{headers:{"x-access-token":e},params:{userId:t}}).then((({data:e})=>e)).catch((e=>{throw e}))}var A=o(4237),F=o.n(A),H=o(680),O=o(5513),j=o.n(O);const P=e=>((0,n.dD)("data-v-6ebb7d1a"),e=e(),(0,n.Cn)(),e),Z={class:"container"},M={class:"row"},I={class:"col-12 col-md-8 col-lg-6 mx-auto"},$=P((()=>(0,n._)("h1",{class:"display-4 fw-bold"},"UpNote",-1))),V=["onSubmit"],R={class:"row"},B=["onKeydown"],N=P((()=>(0,n._)("button",{class:"btn btn-sm btn-primary col-auto",type:"submit"}," Add Todo ",-1))),W={class:"showTodo"},G={key:0,class:"bg-light rounded px-2"},K={class:"form-check"},q=["value","checked","onChange"],Y=["onKeydown"],J={class:""},z=["onClick"],X=["onClick"];var Q={__name:"ToDoList",setup(e){const t=(0,_.iH)([]),o=(0,_.iH)(""),a=(0,A.useToast)(),l=(0,_.iH)(-1),r=(0,_.iH)(""),c=(0,O.useLoading)({isFullPage:!0,loader:"bars",canCancel:!1,color:"#3ac569",backgroundColor:"#e4e7ec",width:100,height:100}),i=()=>c.show(),u=(e,t)=>{l.value=e,r.value=t},d=()=>{l.value=-1,r.value=""};(0,n.bv)((()=>{const e=localStorage.getItem("userData");if(e)try{const t=JSON.parse(e);p.getters.user||p.commit("setUser",t),m(t.token,t._id)}catch(t){console.log("Failed Parsing User Data",t),pt.push({name:"Login"})}else pt.push({name:"Login"})}));const m=async(e,o)=>{const s=i();try{const s=await T(e,o);console.log("res:",s),t.value=s,console.log("Success Fetching To Do")}catch(n){console.log("Failed Fetching To Do",n),a.open({message:"Session Expired Will Be Logout, Please LOGIN Again",type:"warning",position:"bottom-left",duration:1500}),D()}finally{s.hide()}},g=async()=>{if(!o.value)return;const e={task:o.value,completed:!1,created_at:Date.now(),completed_time:null},t=i();try{await S(e,p.getters.user.token,p.getters.user._id),m(p.getters.user.token,p.getters.user._id),o.value="",a.open({message:"Add To Do Success",type:"success",position:"top",duration:1500}),console.log("Add To Do Success")}catch(s){a.open({message:'Error Add To Do"',type:"error",position:"top",duration:1500}),console.log("Error Add To Do",s)}finally{t.hide()}},f=e=>{"Enter"===e.key&&(e.preventDefault(),g())},b=e=>e,h=async e=>{const o=t.value[e];o.completed=!o.completed;try{await L(o,p.getters.user.token),a.open({message:"Success Check To Do",type:"info",position:"bottom-left",duration:1e3})}catch(s){a.open({message:"Failed Check To Do",type:"error",position:"bottom-left",duration:1e3}),console.log("Error Check To Do: ",s)}},v=async()=>{const e=i();try{const e=t.value[l.value];await U(e,p.getters.user.token,r.value),a.open({message:"Success Update To Do",type:"success",position:"bottom-left",duration:1e3}),d()}catch(o){a.open({message:"Failed Update To Do",type:"error",position:"bottom-left",duration:1e3}),console.log("Error Update To Do: ",o)}finally{e.hide()}},w=async e=>{const o=i();try{await C(t.value[e]._id,p.getters.user.token),t.value.splice(e,1),a.open({message:"Success Delete To Do",type:"success",position:"top",duration:1500}),console.log("Success Delete To Do")}catch(s){a.open({message:"Failed Delete To Do",type:"error",position:"top",duration:1e4}),console.log("Failed Delete To Do",s)}finally{o.hide()}},k=async()=>{const e=i();try{await E(p.getters.user.token,p.getters.user._id),t.value=[],a.open({message:"Success Delete All To Do",type:"success",position:"top",duration:1500}),console.log("Success Delete All To Do")}catch(o){a.open({message:"Failed Delete All To Do",type:"error",position:"top",duration:1500}),console.log("Failed Delete To Do",o)}finally{e.hide()}},D=()=>{try{localStorage.removeItem("userData"),H.Z.remove("refreshToken"),p.commit("setUser",null),pt.push({name:"Login"}),a.open({message:"Logout Success",type:"success",position:"top",duration:1500})}catch(e){console.log("Something Wrong",e)}};return(e,a)=>((0,n.wg)(),(0,n.iD)("div",Z,[(0,n._)("div",M,[(0,n._)("div",I,[(0,n._)("header",{class:"d-flex justify-content-between align-items-center mb-3"},[$,(0,n._)("div",null,[(0,n._)("button",{onClick:k,class:"btn btn-sm btn-danger"}," Delete All "),(0,n._)("button",{onClick:D,class:"btn btn-sm btn-warning ms-2"}," Logout ")])]),(0,n._)("form",{class:"mb-3",onSubmit:(0,s.iM)(g,["prevent"])},[(0,n._)("div",R,[(0,n.wy)((0,n._)("input",{name:"todo-input",id:"todo-input",class:"form-control col-auto me-2 mb-2",placeholder:"Be Amazing!","onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),onKeydown:(0,s.D2)(f,["enter"])},null,40,B),[[s.nr,o.value]]),N])],40,V),(0,n._)("div",W,[t.value.length>0?((0,n.wg)(),(0,n.iD)("div",G,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.value,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"d-flex justify-content-between align-items-center bg-light border-bottom py-2 text-dark",key:t},[(0,n._)("div",K,[(0,n._)("input",{class:(0,y.C_)(["form-check-input",[]]),type:"checkbox",id:"flexCheckDefault",value:e.completed,checked:b(e.completed),onChange:e=>h(t)},null,40,q)]),l.value===t?(0,n.wy)(((0,n.wg)(),(0,n.iD)("input",{key:0,type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>r.value=e),onKeydown:[(0,s.D2)(v,["enter"]),(0,s.D2)(d,["esc"])]},null,40,Y)),[[s.nr,r.value]]):((0,n.wg)(),(0,n.iD)("div",{key:1,class:(0,y.C_)([b(e.completed)?"isCompleted":""])},(0,y.zw)(e.task),3)),(0,n._)("div",J,[(0,n._)("button",{class:"btn btn-sm btn-success",onClick:o=>u(t,e.task)}," Edit ",8,z),(0,n._)("button",{onClick:e=>w(t),class:"btn btn-sm btn-danger ms-2"}," Delete ",8,X)])])))),128))])):(0,n.kq)("",!0)])])])]))}};const ee=(0,r.Z)(Q,[["__scopeId","data-v-6ebb7d1a"]]);var te=ee,oe={name:"Dashboard",components:{ToDoList:te}};const se=(0,r.Z)(oe,[["render",v]]);var ne=se;const ae={class:"vh-100",style:{"background-color":"#9A616D"}},le={class:"container py-5 h-100"},re={class:"row d-flex justify-content-center align-items-center h-100"},ce={class:"col col-xl-10"},ie={class:"card",style:{"border-radius":"1rem"}},ue={class:"row g-0"},de=(0,n._)("div",{class:"col-md-6 col-lg-5 d-none d-md-block"},[(0,n._)("img",{src:"https://images.unsplash.com/photo-1599498448014-81d90414c50a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=386&q=80",alt:"login form",class:"img-fluid",style:{"border-radius":"1rem 0 0 1rem"}})],-1),me={class:"col-md-6 col-lg-7 d-flex align-items-center"},pe={class:"card-body p-4 p-lg-5 text-black"},ge=["onSubmit"],fe=(0,n._)("div",{class:"d-flex align-items-center mb-3 pb-1"},[(0,n._)("i",{class:"fas fa-cubes fa-2x me-3",style:{color:"#ff6219"}}),(0,n._)("span",{class:"h1 fw-bold mb-0"})],-1),be=(0,n._)("h5",{class:"fw-normal mb-3 pb-3",style:{"letter-spacing":"1px"}},"Login your account",-1),he={class:"form-outline mb-4"},ve=(0,n._)("label",{class:"form-label",for:"form2Example17"},"Email address",-1),ye={class:"form-outline mb-4"},_e=(0,n._)("label",{class:"form-label",for:"form2Example27"},"Password",-1),we=(0,n._)("div",{class:"pt-1 mb-4"},[(0,n._)("button",{class:"btn btn-dark btn-lg btn-block",type:"submit"},"Login")],-1),ke=(0,n._)("a",{class:"small text-muted",href:"#!"},"Forgot password?",-1),De={class:"mb-5 pb-lg-2",style:{color:"#393f81"}},xe=(0,n._)("a",{href:"#!",class:"small text-muted"},"Terms of use.",-1),Te=(0,n._)("a",{href:"#!",class:"small text-muted"},"Privacy policy",-1);var Se={__name:"Login",setup(e){const t=(0,_.iH)(""),o=(0,_.iH)(""),a=(0,A.useToast)(),l=(0,O.useLoading)({isFullPage:!0,loader:"bars",canCancel:!1,color:"#3ac569",backgroundColor:"#e4e7ec",width:100,height:100}),r=()=>l.show();(0,n.bv)((()=>{const e=localStorage.getItem("userData");if(e){const t=JSON.parse(e);p.commit("setUser",t),pt.push({name:"Dashboard"})}}));const c=async()=>{const e={email:t.value,password:o.value},s=r();try{const t=await x(e),{token:o,email:s,_id:n}=t,l={token:o,_id:n,email:s};localStorage.setItem("userData",JSON.stringify(l)),p.commit("setUser",l),a.open({message:"Login Success",type:"success",position:"top",duration:1500}),pt.push({name:"Dashboard"})}catch(n){console.log("Login Failed",n),a.open({message:"Check Username and Password",type:"error",position:"top",duration:1500})}finally{s.hide()}},i=()=>{console.log("onFormSubmit"),c()};return(e,a)=>{const l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("section",ae,[(0,n._)("div",le,[(0,n._)("div",re,[(0,n._)("div",ce,[(0,n._)("div",ie,[(0,n._)("div",ue,[de,(0,n._)("div",me,[(0,n._)("div",pe,[(0,n._)("form",{onSubmit:(0,s.iM)(i,["prevent"])},[fe,be,(0,n._)("div",he,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),type:"email",id:"form2Example17",class:"form-control form-control-lg"},null,512),[[s.nr,t.value]]),ve]),(0,n._)("div",ye,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>o.value=e),type:"password",id:"form2Example27",class:"form-control form-control-lg"},null,512),[[s.nr,o.value]]),_e]),we,ke,(0,n._)("p",De,[(0,n.Uk)("Don't have an account? "),(0,n.Wm)(l,{to:"/register"},{default:(0,n.w5)((()=>[(0,n.Uk)("Register")])),_:1})]),xe,Te],40,ge)])])])])])])])])}}};const Le=Se;var Ue=Le;const Ce=e=>((0,n.dD)("data-v-b487eb34"),e=e(),(0,n.Cn)(),e),Ee={class:"vh-100",style:{"background-color":"#9A616D"}},Ae={class:"container py-5 h-100"},Fe={class:"row d-flex justify-content-center align-items-center h-100"},He={class:"col col-xl-10"},Oe={class:"card",style:{"border-radius":"1rem"}},je={class:"row g-0"},Pe=Ce((()=>(0,n._)("div",{class:"col-md-6 col-lg-5 d-none d-md-block"},[(0,n._)("img",{src:"https://images.unsplash.com/photo-1599498448014-81d90414c50a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=386&q=80",alt:"register form",class:"img-fluid",style:{"border-radius":"1rem 0 0 1rem"}})],-1))),Ze={class:"col-md-6 col-lg-7 d-flex align-items-center"},Me={class:"card-body p-4 p-lg-5 text-black"},Ie=["onSubmit"],$e=Ce((()=>(0,n._)("div",{class:"d-flex align-items-center mb-3 pb-1"},[(0,n._)("i",{class:"fas fa-cubes fa-2x me-3",style:{color:"#ff6219"}}),(0,n._)("span",{class:"h1 fw-bold mb-0"})],-1))),Ve=Ce((()=>(0,n._)("h5",{class:"fw-normal mb-3 pb-3",style:{"letter-spacing":"1px"}},"Register your account",-1))),Re={class:"form-outline mb-4"},Be=Ce((()=>(0,n._)("label",{class:"form-label",for:"form2Example17"},"User Name",-1))),Ne={class:"form-outline mb-4"},We=Ce((()=>(0,n._)("label",{class:"form-label",for:"form2Example17"},"Email Address",-1))),Ge={class:"form-outline mb-4"},Ke=Ce((()=>(0,n._)("label",{class:"form-label",for:"form2Example27"},"Password",-1))),qe=Ce((()=>(0,n._)("div",{class:"pt-1 mb-4"},[(0,n._)("button",{class:"btn btn-dark btn-lg btn-block",type:"submit"},"Register")],-1))),Ye={class:"mb-5 pb-lg-2",style:{color:"#393f81"}},Je=Ce((()=>(0,n._)("a",{href:"#!",class:"small text-muted"},"Terms of use.",-1))),ze=Ce((()=>(0,n._)("a",{href:"#!",class:"small text-muted"},"Privacy policy",-1)));var Xe={__name:"Register",setup(e){const t=(0,_.iH)(""),o=(0,_.iH)(""),a=(0,_.iH)(""),l=(0,A.useToast)(),r=(0,_.iH)(!0),c=(0,O.useLoading)({isFullPage:r,loader:"bars",canCancel:!1,color:"#3ac569",backgroundColor:"#e4e7ec",width:100,height:100}),i=()=>c.show();(0,n.bv)((()=>{null!=p.getters.user&&pt.push({name:"Dashboard"})}));const u=async()=>{const e={email:a.value,name:t.value,password:o.value},s=i();try{const t=await D(e),{_id:o,email:s,token:n}=t,a={_id:o,email:s,token:n};p.commit("setUser",a),pt.push({name:"Login"}),l.open({message:"Register Success!! Login Now",type:"success",position:"top",duration:2500})}catch(n){l.open({message:"Register Failed",type:"error",position:"top",duration:2500}),console.log("Register Failed",n)}finally{s.hide()}},d=()=>{u()};return(e,l)=>{const r=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("section",Ee,[(0,n._)("div",Ae,[(0,n._)("div",Fe,[(0,n._)("div",He,[(0,n._)("div",Oe,[(0,n._)("div",je,[Pe,(0,n._)("div",Ze,[(0,n._)("div",Me,[(0,n._)("form",{onSubmit:(0,s.iM)(d,["prevent"])},[$e,Ve,(0,n._)("div",Re,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),type:"text",id:"form2Example17",class:"form-control form-control-lg"},null,512),[[s.nr,t.value]]),Be]),(0,n._)("div",Ne,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>a.value=e),type:"email",id:"form2Example17",class:"form-control form-control-lg"},null,512),[[s.nr,a.value]]),We]),(0,n._)("div",Ge,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>o.value=e),type:"password",id:"form2Example27",class:"form-control form-control-lg"},null,512),[[s.nr,o.value]]),Ke]),qe,(0,n._)("p",Ye,[(0,n.Uk)("Have an account! "),(0,n.Wm)(r,{to:"/login"},{default:(0,n.w5)((()=>[(0,n.Uk)("Login")])),_:1})]),Je,ze],40,Ie)])])])])])])])])}}};const Qe=(0,r.Z)(Xe,[["__scopeId","data-v-b487eb34"]]);var et=Qe;const tt=(0,n._)("head",null,[(0,n._)("meta",{charset:"UTF-8"}),(0,n._)("meta",{"http-equiv":"X-UA-Compatible",content:"IE=edge"}),(0,n._)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,n._)("title",null,"Bootstrap 5 404 Error Page"),(0,n._)("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css",rel:"stylesheet"})],-1),ot={class:"d-flex align-items-center justify-content-center vh-100"},st={class:"text-center"},nt=(0,n._)("h1",{class:"display-1 fw-bold"},"404",-1),at=(0,n._)("p",{class:"fs-3"},[(0,n._)("span",{class:"text-danger"},"Opps!"),(0,n.Uk)(" Page not found.")],-1),lt=(0,n._)("p",{class:"lead"}," The page you’re looking for doesn’t exist. ",-1);function rt(e,t,o,s,a,l){const r=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[tt,(0,n._)("body",null,[(0,n._)("div",ot,[(0,n._)("div",st,[nt,at,lt,(0,n.Wm)(r,{to:"/login",class:"btn btn-primary"},{default:(0,n.w5)((()=>[(0,n.Uk)("Go Login")])),_:1})])])])],64)}var ct={name:"Error"};const it=(0,r.Z)(ct,[["render",rt]]);var ut=it;const dt=[{path:"/",name:"Dashboard",component:ne},{path:"/login",name:"Login",component:Ue},{path:"/register",name:"Register",component:et},{path:"/:pathMatch(.*)*",component:ut}],mt=(0,h.p7)({history:(0,h.PO)(),routes:dt});var pt=mt;o(2166);const gt=(0,s.ri)(i);gt.use(p),gt.use(b),gt.use(pt),gt.use(F()),gt.use(j()),gt.mount("#app")}},t={};function o(s){var n=t[s];if(void 0!==n)return n.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,s,n,a){if(!s){var l=1/0;for(u=0;u<e.length;u++){s=e[u][0],n=e[u][1],a=e[u][2];for(var r=!0,c=0;c<s.length;c++)(!1&a||l>=a)&&Object.keys(o.O).every((function(e){return o.O[e](s[c])}))?s.splice(c--,1):(r=!1,a<l&&(l=a));if(r){e.splice(u--,1);var i=n();void 0!==i&&(t=i)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[s,n,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,a,l=s[0],r=s[1],c=s[2],i=0;if(l.some((function(t){return 0!==e[t]}))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(c)var u=c(o)}for(t&&t(s);i<l.length;i++)a=l[i],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},s=self["webpackChunkclient"]=self["webpackChunkclient"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(3310)}));s=o.O(s)})();
//# sourceMappingURL=app.abf45ce2.js.map